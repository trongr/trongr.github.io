<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Web & Mobile Development</title>
<link rel="stylesheet" href="../css/global.css">

<link rel="stylesheet" href="../css/obsidian.min.css">
<script src="../js/highlight.min.js"></script>

<!-- this config must be before MathJax.js: -->
<script src="../js/mathjax.config.js"></script>
<script src="../js/MathJax/MathJax.js"></script>
<!-- <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script> -->

<script src="../js/jquery-3.1.0.min.js"></script>
<script src="../js/smartquotes.js"></script>
<script src="../js/global.js"></script>

</head>
<body>

<div id="content">

<h1>Web & Mobile Development</h1>

<div class="epigraph">
     <div class="quote">
        All hope abandon, ye who enter here.
     </div><hr><div class="author">Dante's <i>Inferno</i></div>
</div>

<h1>Command Line Reference</h1>

<h2>Utilities</h2>

<h3>Disk management</h3>

Get system storage sizes:

<pre><code>df -h</code></pre>

Find big folders:

<pre><code>du / | sort -n</code></pre>

<p>
    Find and remove files and folders in current dir older than time:
</p>

<pre><code>find ./ -maxdepth 1 -mmin +10 | xargs rm -rf # 10 minutes
find ./ -maxdepth 1 -mtime +10 | xargs rm -rf # 10 days
find ./ -maxdepth 1 -mtime +10 -type f | xargs rm -rf # Files only
</code></pre>

<h2>Git</h2>

<p>
    Deleting a branch:
</p>

<pre><code>git branch -d branchName # local
git push origin --delete branchName # remote</code></pre>

<h2>Curl</h2>

GET

<pre><code>curl -X GET "http://example.com/asdf?id=abc"
</code></pre>

POST

<pre><code>curl -X POST "http://example.com/asdf"
curl -X POST --data "id=abc&token=123" "http://example.com/asdf"
curl -X POST --data-urlencode "url=http://eg.com" "http://example.com/asdf"
</code></pre>

<p>
    You can use multiple <code>--data</code>
    and <code>--data-urlencode</code> blocks together.
</p>

DELETE

<pre><code>curl -X DELETE --data "id=abc&token=123" "http://example.com/asdf"</code></pre>

<h2>Grep</h2>

<h2>FFmpeg</h2>

<h2>Livestreamer</h2>

<p>
    Get source of stream:
</p>

<pre><code>livestreamer URL best --stream-url</code></pre>

<h1>NGINX</h1>

<p>
    List modules:
</p>

<pre><code>nginx -V</code></pre>

<h1>Node.js</h1>

<h2>Forever</h2>

<p>
    Starting a node server with logs appended
    to <code>~/.forever/live.log</code>. Might also want to use
    logrotate to rotate the log file.
</p>

<pre><code>NODE_ENV=production PORT=8080 forever start -a --uid live server.js</code></pre>

<h2>Request</h2>

<pre><code>request.post({
    url: "http://IP:PORT/asdf?q=asdf",
    body: {
        asdf: 123
    },
    json: true,
    timeout: 60 * 1000 // ms
}, function(er, res, body){
    if (er) console.log("ERROR", er, body)
})
</code></pre>

<h1>MongoDB</h1>

<h2>Mongo Console</h2>

<h3>Administrative tasks</h3>

<pre><code>show databases
show collections</code></pre>

<h3>Indices</h3>

<pre><code>db.books.getIndexes()</code></pre>

<h3>Queries</h3>

<p>
    Find all items and sort reverse chronologically, latest first.
</p>

<pre><code>db.books.find({}).sort({_id:-1}).pretty()</code></pre>

<h1>Mongoose</h1>

<h3>JSON query</h3>

<p>
    By default you can't modify a Mongoose query result if it violates
    the schema. In that case use <code>lean()</code> to convert it
    into a JSON object. This is useful if you want to remove sensitive
    data from the result or tack on some additional data of your own:
</p>

<pre><code>Book.find({
    title: "Manual for Bicycle Repair"
})
.lean() // hide everything but author.name
.populate("author", "author.name")
.exec(function(er, books){
    if (er) console.log("ERROR", er)
})</code></pre>

<h1>Twitch API</h1>

<p>
    <pre><code>curl https://api.twitch.tv/kraken/streams/CHANNEL_NAME</code></pre>
</p>

<h1>Amazon Web Services</h1>

<h2>AWS SQS</h2>

<h2>AWS Lambda</h2>

</div>
</body>
</html>
